---
const { project = {}, isEdit = false } = Astro.props;
---

<div class="project-form">
    <div class="form-row">
        <div class="form-group" style="flex: 2;">
            <label>Título</label>
            <input type="text" name="title" value={project.title || ''} required />
        </div>
        <div class="form-group" style="flex: 1;">
            <label>Categoria</label>
            <select name="category" required>
                <option value="Residencial" selected={project.category === 'Residencial'}>Residencial</option>
                <option value="Comercial" selected={project.category === 'Comercial'}>Comercial</option>
                <option value="Interiores" selected={project.category === 'Interiores'}>Interiores</option>
                <option value="Urbanismo" selected={project.category === 'Urbanismo'}>Urbanismo</option>
                <option value="Outros" selected={project.category === 'Outros'}>Outros</option>
            </select>
        </div>
    </div>

    <div class="form-group">
        <label>Slug (URL)</label>
        <input type="text" name="slug" value={project.slug || ''} placeholder="Gerado automaticamente se vazio" />
    </div>

    <div class="form-row">
        <div class="form-group">
            <label>Ano</label>
            <input type="text" name="year" value={project.year || ''} />
        </div>
        <div class="form-group">
            <label>Localização</label>
            <input type="text" name="location" value={project.location || ''} />
        </div>
        <div class="form-group">
            <label>Área</label>
            <input type="text" name="area" value={project.area || ''} />
        </div>
    </div>

    <div class="form-group">
        <label>Descrição</label>
        <textarea name="description" rows="4">{project.description || ''}</textarea>
    </div>

    <div class="form-group">
        <label>Imagem de Capa</label>
        <input type="file" name="cover_image" accept="image/*" />
        {project.images && (
            <div style="margin-top: 0.5rem; font-size: 0.75rem; color: var(--admin-text-muted);">
                Imagem atual: {JSON.parse(project.images)[0]}
            </div>
        )}
    </div>

    <div class="form-group">
        <label>Galeria de Imagens</label>
        <input type="file" name="gallery_images" multiple accept="image/*" />
    </div>
</div>

<style>
    .project-form {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }
    .form-row {
        display: flex;
        gap: 1rem;
    }
    .form-group {
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
    }
    .form-group label {
        font-weight: 600;
        font-size: 0.85rem;
    }
    input, select, textarea {
        padding: 0.6rem;
        border: 1px solid var(--admin-border);
        border-radius: 4px;
        font-size: 0.9rem;
    }
    @media (max-width: 600px) {
        .form-row { flex-direction: column; }
    }
</style>
